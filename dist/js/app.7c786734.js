(function(){"use strict";var e={9778:function(e,o,s){var t=s(4220),n=s(8587),a=s(9812);function r(e,o,s,t,n,r){const i=(0,a.up)("BookstoreList"),d=(0,a.up)("SandBox"),l=(0,a.up)("MessageList");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.sandbox?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(i,{key:0})),n.sandbox?((0,a.wg)(),(0,a.j4)(d,{key:1})):(0,a.kq)("",!0),n.sandbox?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(l,{key:2})),n.sandbox?((0,a.wg)(),(0,a.iD)("button",{key:3,onClick:o[0]||(o[0]=e=>n.store.addMessage(parseInt(1e3*Math.random())%2==0?"danger":"success","dupa"))},"Add random message")):(0,a.kq)("",!0)],64)}var i=s(5893);function d(e,o,s,n,r,d){const l=(0,a.up)("TheMessage");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["main",{hidden:r.hidden,"new-message":r.store.newMessage}])},[(0,a._)("div",{class:"close",onClick:o[0]||(o[0]=(...e)=>d.manageCloseClick&&d.manageCloseClick(...e))},(0,i.zw)(r.hidden?"🔼 "+(r.store.newMessage?"NOWE ":"")+"KOMUNIKATY":"🔽 ZWIŃ"),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.store.messages,(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(l,{message:e,key:e.msg},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.msg),1)])),_:2},1032,["message"])),[[t.F8,!r.hidden]]))),128))],2)),[[t.F8,r.store.messages.length>0]])}s(7658);const l=(0,n.Q_)("messageStore",{state(){return{messages:[],newMessage:!1}},actions:{addMessage(e,o,s){this.messages.push({type:e,msg:o,...s}),this.setNewMessageState(!0)},deleteMessage(e){this.messages.splice(this.messages.indexOf(e),1)},setNewMessageState(e){this.newMessage=e}}}),c=["href"];function u(e,o,s,t,n,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["box",s.message.type])},[(0,a._)("div",{class:"close",onClick:o[0]||(o[0]=e=>n.store.deleteMessage(s.message))},"❌"),(0,a.WI)(e.$slots,"default",{},void 0,!0),s.message.url?((0,a.wg)(),(0,a.iD)("a",{key:0,target:"_blank",href:s.message.url},"KLIK",8,c)):(0,a.kq)("",!0)],2)}var g={name:"TheMessage",props:["message"],data(){return{store:l()}}},p=s(8998);const w=(0,p.Z)(g,[["render",u],["__scopeId","data-v-aea87938"]]);var f=w,h={name:"MessageList",components:{TheMessage:f},data(){return{store:l(),hidden:!1}},methods:{manageCloseClick(){this.hidden=!this.hidden,this.store.setNewMessageState(!1)}}};const v=(0,p.Z)(h,[["render",d],["__scopeId","data-v-54e1cdbe"]]);var b=v;const k={class:"main"};function m(e,o,s,t,n,r){const i=(0,a.up)("Bookstore");return(0,a.wg)(),(0,a.iD)("div",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(n.configStore.bookstores),(e=>((0,a.wg)(),(0,a.j4)(i,{key:e,bookstore:e},null,8,["bookstore"])))),128))])}const y=(0,n.Q_)("configStore",{state(){return{bookstores:{gandalf:{name:"Gandalf",download:{default:{possible:!0,value:!1},google:{possible:!0,value:!1}},searchURL:""},bonito:{name:"Bonito",download:{default:{possible:!0,value:!1},google:{possible:!1,value:!1}},searchURL:""},tantis:{name:"Tantis",download:{default:{possible:!0,value:!1},google:{possible:!0,value:!1}},searchURL:""},"świat_książki":{name:"Świat Książki",download:{default:{possible:!0,value:!1},google:{possible:!0,value:!1}},searchURL:""},empik:{name:"Empik",download:{default:{possible:!0,value:!1},google:{possible:!1,value:!1}},searchURL:""}},eans:{}}},actions:{activateDownload(e,o){this.bookstores[e].download[o].possible&&(this.bookstores[e].download[o].value=!0)},deactivateDownload(e,o){this.bookstores[e].download[o].value=!1},canBeDownloaded(e,o){return this.bookstores[e].download[o].possible},isDownloading(e,o){return this.bookstores[e].download[o].value},isBookstoreActive(e){return this.bookstores[e].download["default"].value||this.bookstores[e].download["google"].value}}});function _(e,o,s,t,n,r){const d=(0,a.up)("BookstorePriceToggler");return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["main",{active:r.active}])},[(0,a._)("h3",null,(0,i.zw)(n.configStore.bookstores[s.bookstore].name),1),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(["default","google"],(e=>(0,a.Wm)(d,{key:e,download:e,bookstore:s.bookstore},null,8,["download","bookstore"]))),64))],2)}function S(e,o,s,t,n,r){const d=(0,a.up)("TogglerBtn");return(0,a.wg)(),(0,a.j4)(d,{onClick:r.toggle,active:n.configStore.isDownloading(s.bookstore,s.download),disabled:!n.configStore.canBeDownloaded(s.bookstore,s.download),title:n.configStore.canBeDownloaded(s.bookstore,s.download)?"":"Obsługa nie została zaimplementowana"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)("google"==s.download?"Google":"Zwykłe"),1)])),_:1},8,["onClick","active","disabled","title"])}function B(e,o,s,t,n,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)({active:s.active,disabled:s.disabled})},[(0,a._)("span",null,(0,i.zw)(s.active?"✔️":"❌"),1),(0,a.WI)(e.$slots,"default",{},void 0,!0)],2)}var M={name:"TogglerBtn",props:{active:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}}};const D=(0,p.Z)(M,[["render",B],["__scopeId","data-v-2dd936ba"]]);var C=D,O={name:"BookstorePriceToggler",components:{TogglerBtn:C},props:{bookstore:{type:String,required:!0},download:{type:String,required:!0}},data(){return{configStore:y()}},methods:{toggle(){this.configStore.isDownloading(this.bookstore,this.download)?this.configStore.deactivateDownload(this.bookstore,this.download):this.configStore.canBeDownloaded(this.bookstore,this.download)&&this.configStore.activateDownload(this.bookstore,this.download)}}};const x=(0,p.Z)(O,[["render",S]]);var j=x,z={name:"Bookstore",props:{bookstore:{type:String,required:!0}},components:{BookstorePriceToggler:j},data(){return{configStore:y()}},computed:{active(){return this.configStore.isBookstoreActive(this.bookstore)}}};const I=(0,p.Z)(z,[["render",_],["__scopeId","data-v-9ab8c920"]]);var T=I,L={name:"BookstoreList",components:{Bookstore:T},data(){return{configStore:y()}}};const q=(0,p.Z)(L,[["render",m],["__scopeId","data-v-107a60d8"]]);var Z=q;const K={class:"wrapper"};function U(e,o,s,t,n,r){return(0,a.wg)(),(0,a.iD)("div",K)}var N={name:"SandBox"};const W=(0,p.Z)(N,[["render",U],["__scopeId","data-v-81bf292c"]]);var R=W,A={name:"App",components:{MessageList:b,BookstoreList:Z,SandBox:R},data(){return{store:l(),sandbox:!1}},mounted(){const e=parseInt(1e3*Math.random())%2?"http://192.168.1.100:8080/price-scraper/dist/":"https://classic.bonito.pl/";fetch(e,{credentials:"include",mode:"cors"}).then((()=>{this.store.addMessage("success","Konfiguracja prawidłowa, możemy zaczynać."),this.store.addMessage("danger","testowy message.")})).catch((e=>{"NetworkError when attempting to fetch resource."==e.message&&(this.store.addMessage("danger","Nie będę mógł pobierać cen z bonito. Włącz CORS plugin i odśwież przeglądarkę.",{url:"https://addons.mozilla.org/en-US/firefox/addon/cors-everywhere/"}),this.store.addMessage("success","testowy message."))}))}};const P=(0,p.Z)(A,[["render",r]]);var Y=P;const E=(0,n.WB)(),H=(0,t.ri)(Y);H.use(E),H.mount("#price-scraper-app")}},o={};function s(t){var n=o[t];if(void 0!==n)return n.exports;var a=o[t]={exports:{}};return e[t].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(o,t,n,a){if(!t){var r=1/0;for(c=0;c<e.length;c++){t=e[c][0],n=e[c][1],a=e[c][2];for(var i=!0,d=0;d<t.length;d++)(!1&a||r>=a)&&Object.keys(s.O).every((function(e){return s.O[e](t[d])}))?t.splice(d--,1):(i=!1,a<r&&(r=a));if(i){e.splice(c--,1);var l=n();void 0!==l&&(o=l)}}return o}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[t,n,a]}}(),function(){s.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(o,{a:o}),o}}(),function(){s.d=function(e,o){for(var t in o)s.o(o,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){var e={143:0};s.O.j=function(o){return 0===e[o]};var o=function(o,t){var n,a,r=t[0],i=t[1],d=t[2],l=0;if(r.some((function(o){return 0!==e[o]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(d)var c=d(s)}for(o&&o(t);l<r.length;l++)a=r[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},t=self["webpackChunkprice_scraper"]=self["webpackChunkprice_scraper"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=s.O(void 0,[998],(function(){return s(9778)}));t=s.O(t)})();
//# sourceMappingURL=app.7c786734.js.map